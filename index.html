<!doctype html>
<html>

<head>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="main.css" />
</head>

<body ng-app="myApp">
    <div ng-controller="userChoiceController" class="container">
        <div class="row">
            <div class="jumbotron text-center">
                <h1>Makeup Search By Category</h1>
            </div>
            <div class="col-md-4 col-md-offset-4">
                <form>
                    <select class="form-control" name="productType" ng-model="choice">
                            <option value="">Pick a product category</option>
                            <option value="blush">Blush</option>
                            <option value="bronzer">Bronzer</option>
                            <option value="eyebrow">Eyebrow</option>
                            <option value="eyeliner">Eyeliner</option>
                            <option value="eyeshadow">Eyeshadow</option>
                            <option value="foundation">Foundation</option>
                            <option value="lipliner">Lip liner</option>
                            <option value="lipstick">Lipstick</option>
                            <option value="mascara">Mascara</option>
                            <option value="nailpolish">Nail Polish</option>
                        </select>

                    <button id="submitBtn" type="submit" class="btn btn-primary btn-block" ng-click="getChoice(choice)" ng-disabled="loading">Find makeup info</button>
                </form>
            </div>
        </div>
        
        <div class="loader" ng-show="loading"></div>

        <div id="resultsContainer" class="row" ng-show="!loading">



            <!-- BEGIN PANEL ng-repeat -->
            <div class="col-md-6" ng-repeat="product in products">
                <div class="panel panel-default">
                    <div class="panel-body" style="max-height: 10;">
                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                            <img class="productImg" ng-src="{{product.image_link}}" />
                        </div>
                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" ng-controller="productDescController">
                            <h4 class="productName">{{product.name | toTitleCase}}</h4>
                            <button id="showProductDesc" class="btn btn-info" ng-click="showDiv = !showDiv" ng-init="showDiv=false">Description</button>
                            <div ng-show="showDiv" class="productDesc">
                                <p>{{product.description }}</p>
                            </div>
                            <div class="productPrice">
                                <h4 class="text-center">{{product.price | currency}}</h4>
                            </div>
                        </div>
                        <div id="colorsContainer" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2" ng-repeat="color in product.product_colors">
                                <div class="colorDiv" style="background-color: {{color.hex_value}}"></div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <!-- END PANEL ng-repeat -->

        </div>

    </div>
    <!--        <div ng-repeat="product in model">{{product}}</div>-->




    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

    <!-- Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- AngularJS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>

    <script src="scripts/app.js"></script>
</body>

</html>